<!DOCTYPE html>
<html>








<head>
    <title>Candella Documentation - Observable Framework</title>
    <link href="../css/vanilla.min.css" rel="stylesheet" />
    <link href="../css/style.css" rel="stylesheet" />
    <link href="../css/version-select.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Candella Documentation - Observable Framework" />
    <meta property="og:description" content="Candella is a fork of the AliceOS framework for Ren'Py." />
    <meta property="og:url" content="None" />
    <meta property="og:image" content="http://candella.unscriptedvn.dev/img/desktop.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="720" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/json.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../search/main.js" defer=""></script>
    <script src="../js/vanilla.js" defer=""></script>
    <script src="../js/version-select.js" defer=""></script>
</head>

<div class="cc-header">
    <div class="row">
        <p>
            <a class="p-link--inverted" href="https://candella.unscriptedvn.dev">Candella</a>
            <sup>beta</sup>
        </p>
    </div>
</div>
<nav>
    <header id="navigation" class="p-navigation is-dark">
        <div class="p-navigation__row">
            <div class="p-navigation__banner">
                <div class="p-navigation__logo">
                    <a class="p-navigation__item" href="/index.html">
                        <img class="p-navigation__image" src="../img/logomark-dark.svg"
                            alt="Candella Documentation" width="95">
                    </a>
                </div>
                <a href="#navigation" class="p-navigation__toggle--open" title="menu">Menu</a>
                <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">Close menu</a>
            </div>
            <nav class="p-navigation__nav" aria-label="Example main navigation">
                <span class="u-off-screen">
                    <a href="#main-content">Jump to main content</a>
                </span>
                <ul class="p-navigation__items">
                    <li class="p-navigation__item is-selected">
                        <a class="p-navigation__link" href="/index.html">Docs</a>
                    </li>
                    
                    
                    <li class="p-navigation__item">
                        <a class="p-navigation__link" href="https://marquiskurt.itch.io/candella">Download</a>
                    </li>
                    
                    <li class="p-navigation__item">
                        <a class="p-navigation__link" href="https://github.com/UnscriptedVN/candella">GitHub</a>
                    </li>
                    
                    <li class="p-navigation__item">
                        <a class="p-navigation__link" href="https://appdb.unscriptedvn.dev">AppDB</a>
                    </li>
                    
                    
                </ul>
                
                <form class="p-search-box" action="../search.html" method="get">
                    <input class="p-search-box__input" type="text" placeholder="Search docs" name="q" autocomplete="off"
                        id="mkdocs-search-query" required="">
                    <button type="reset" class="p-search-box__reset"><i class="p-icon--close"></i></button>
                    <button type="submit" class="p-search-box__button"><i class="p-icon--search"></i></button>
                </form>
                
            </nav>
        </div>
    </header>
</nav>

<body>
    
    <div class="p-strip--suru-topped">
        <div class="row">
            

<div class="p-side-navigation col-3" id="drawer">
    <a href="#drawer" class="p-side-navigation__toggle js-drawer-toggle" aria-controls="drawer">
        Toggle side navigation
    </a>
    <div class="p-side-navigation__overlay js-drawer-toggle" aria-controls="drawer"></div>

    <nav class="p-side-navigation__drawer" aria-label="Example side navigation">
        <div class="p-side-navigation__drawer-header">
            <a href="#" class="p-side-navigation__toggle--in-drawer js-drawer-toggle" aria-controls="drawer">
                Toggle side navigation
            </a>
        </div>

        <div id="version-selector"></div>

        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href=".." >Home</a>
            </li>
            
            
            
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../00-release-notes/" >Release Notes</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../00-release-notes/#v2107-apple-cinnamon">v21.07 (Apple Cinnamon)</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../01-getting-started/" >Getting started</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../01-getting-started/#quick-start-get-candella">Quick start: Get Candella</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../01-getting-started/#build-from-source">Build from source</a>
            </li>
            
            
        </ul>
        
        
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../02-celeste-shell/" >Celeste Shell</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../02-celeste-shell/#using-celeste-shell">Using Celeste Shell</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../02-celeste-shell/#available-methods-for-developers">Available methods for developers</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../03-candella-app/" >Writing a Candella app</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#creating-an-app">Creating an app</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#app-lifecycle">App lifecycle</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#convenience-methods">Convenience methods</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#app-storage">App storage</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#user-interfaces">User interfaces</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#sending-notifications">Sending notifications</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#sending-app-signals">Sending app signals</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../03-candella-app/#caapplication">CAApplication</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="./" aria-current="page" >Observable Framework</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="./#what-uses-observable">What uses Observable?</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="./#logic">Logic</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="./#caobservable">CAObservable</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../05-multiuser/" >Multiuser Framework</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../05-multiuser/#what-is-a-candella-user">What is a Candella user?</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../05-multiuser/#the-userland-folder">The userland folder</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../05-multiuser/#readingwriting-data-for-the-current-user">Reading/writing data for the current user</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../06-accounts-service/" >Accounts Service</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../06-accounts-service/#viewing-information-about-the-userspace">Viewing information about the userspace</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../06-accounts-service/#managing-users">Managing users</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../07-roland-boot/" >Roland Boot Manager</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../07-roland-boot/#loading-the-boot-manager">Loading the boot manager</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../07-roland-boot/#shutting-down-candella-with-the-boot-manager">Shutting down Candella with the boot manager</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../08-thorax-setup/" >Thorax Setup</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../08-thorax-setup/#running-the-default-setup">Running the default setup</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../08-thorax-setup/#writing-a-custom-setup-script">Writing a custom setup script</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../09-glossary/" >Glossary</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../09-glossary/#creating-a-glossary">Creating a glossary</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../09-glossary/#displaying-the-glossary">Displaying the glossary</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../09-glossary/#overriding-the-default-glossary">Overriding the default glossary</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../10-candella-service/" >Writing core services</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../10-candella-service/#creating-a-core-service">Creating a core service</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../10-candella-service/#the-manifest-file">The manifest file</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../10-candella-service/#core-service-lifecycle">Core service lifecycle</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../10-candella-service/#sending-service-signals">Sending service signals</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../10-candella-service/#service-storage">Service storage</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../11-notifications/" >NotificationKit Changes</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../11-notifications/#notification-banner-design">Notification banner design</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../11-notifications/#creating-modular-banners">Creating modular banners</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../96-design-and-branding/" >Design and branding</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../96-design-and-branding/#design">Design</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../96-design-and-branding/#branding">Branding</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../97-deprecated/" >Deprecations</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../97-deprecated/#available">@available</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../97-deprecated/#deprecated">@deprecated</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../97-deprecated/#deprecated-arguments">deprecated arguments</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../98-stop-errors/" >Common Stop Errors</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../98-stop-errors/#requisite_framework_missing">REQUISITE_FRAMEWORK_MISSING</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../98-stop-errors/#missing_oobe_service">MISSING_OOBE_SERVICE</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../99-candella-sdk/" >Candella SDK</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../99-candella-sdk/#quickstart-install-from-pypi">Quickstart: Install from PyPI</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../99-candella-sdk/#build-the-sdk-from-source">Build the SDK from source</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../99-candella-sdk/#creating-projects">Creating projects</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../99-candella-sdk/#validating-projects">Validating projects</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../99-candella-sdk/#using-candella-sdk-programmatically">Using Candella SDK programmatically</a>
            </li>
            
            
        </ul>
        
        
        
        <ul class="p-side-navigation__list">
            <li class="p-side-navigation__item--title">
                <a class="p-side-navigation__link" href="../migrate/" >Migration from AliceOS</a>
            </li>
            
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../migrate/#full-announcement-from-project-alice">Full Announcement from Project Alice</a>
            </li>
            
            <li class="p-side-navigation__item">
                <a class="p-side-navigation__link" href="../migrate/#how-do-i-migrate">How do I migrate?</a>
            </li>
            
            
        </ul>
        
        
    </nav>
</div>


            <main id="main-content" class="col-9">
                <h1 id="observable-framework">Observable Framework</h1>
<p>Observable is a Candella framework designed to add observability to classes, similar to what's offered in languages like Java.</p>
<h2 id="what-uses-observable">What uses Observable?</h2>
<p>Candella uses Observable in a few places:</p>
<ul>
<li>In <strong>AppKit</strong>, all apps inherit the <code>CAObservable</code> class and can emit signals to observers.</li>
<li>In <strong>ServiceKit</strong>, core services inherit <code>CAObservable</code> and emit signals to observers.</li>
<li>In <strong>Celeste Shell</strong>, the service listens for signal emissions and acts as an observer with a callback method.</li>
</ul>
<h2 id="logic">Logic</h2>
<p>To use Observable, you need to have two things: an observable item that subclasses from <code>CAObservable</code>, and a callback method that listens for signals when they're emitted.</p>
<p>Let's say that we're making some sort of logger that listens for when apps are opened. We can do the following to accomplish this:</p>
<pre><code class="language-py">def callback(*args, **kwargs):
    if &quot;application_launched&quot; not in args:
        return
    appname = kwargs[&quot;name&quot;] if &quot;name&quot; in kwargs else &quot;Application&quot;
    print(appname + &quot; was launched!&quot;)

class App(CAObservable):
    def __init__(self):
        CAObservable.__init__(self)
        self.register_event(callback)

    def open(self):
        self.emit_signal(&quot;application_launched&quot;, self.__class__.__name__)
</code></pre>
<p>When the <code>open</code> method on the <code>App</code> class is called, the callback function will receive that update and trigger accordingly.</p>
<h2 id="caobservable"><code>CAObservable</code></h2>
<p>A class that can be observed by methods.</p>
<h3 id="register_eventcallable"><code>register_event(callable)</code></h3>
<p>Register an event to listen to this observable class.</p>
<p><strong>Arguments</strong></p>
<ul>
<li>callable (callable): The method that will listen for changes.</li>
</ul>
<h3 id="emit_signalargs-kwargs"><code>emit_signal(*args, **kwargs)</code></h3>
<p>Emit a signal to all known observers of this class. The signal's identifier should be passed in <code>args</code> and any additional data should be passed as a keyword argument in <code>kwargs</code>.</p>
            </main>
        </div>
    </div>
    <script>var base_url = '..';</script>

</body>

<footer>
    <div class="p-strip p-strip--light is-shallow">
        <div class="row">
            <p>Copyright &copy; 2021-2022 Unscripted VN Team.</p>
            <p class="p-link--external"><a href="https://github.com/UnscriptedVN/candella">View the source</a></p>
        </div>
    </div>
</footer>

</html>